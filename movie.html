<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta content="耘存科技" http-equiv="keywords">
	<meta name="description" content="耘存科技">
	<meta name="viewport" content="width=device-width,user-scalable=no, initial-scale=1">
	<title>图片检索</title>
	<!-- css -->
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<link rel="stylesheet" type="text/css" href="css/children.css">
	<link rel="stylesheet" type="text/css" href="css/swiper.min.css">
	<!-- js -->
	<script type="text/javascript" src="js/jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="js/swiper.min.js"></script>
	<script type="text/javascript" src="js/public.js"></script>
	<style>
		.tu {
			width: 90%;
			height: 80px;
			margin-top: 10%;
			text-align: center;
		}

		.search_box {
			margin-top: 20px;
			text-align: center;
		}

		.search_box input {
			width: 200px;
			height: 30px;
			padding-left: 10px;
		}

		.search_box span {
			display: inline-block;
			width: 60px;
			height: 30px;
			text-align: center;
			line-height: 30px;
			background: #0083c3;
			color: #FFFFFF;
		}

		.btn {
			margin-top: 20px;
			width: 60px;
			height: 30px;
			margin-left: 11%;
		}
	</style>
</head>

<body>
	<div class="top_bg">
		<div class="top_main fix">
			<div class="top_logo">
				<a href="index.html"><img src="images/yclogo.png" /></a>
			</div>
			<div class="top_search">
				<a href="search.html"><span></span></a>
			</div>
		</div>
	</div>
	<!-- contentbox -->
	<div class="contentbox">
		<!--顶部背景图-->
		<div class="zy_banner">
			<!-- 子页banner尺寸640x240 -->
			<img src="images/zy_banner02.jpg">
		</div>
		<!-- 中间内容开始 -->
		<div class="zy_content padding_03">
			<div class="tu">
				<input id="upLoadImgIpt" type="file" alt="上传图片" accept='image/*'>
			</div>
			<div class="search_box">
				<input type="text" class="keyWord_ipt" style="background-color:#E0E0E0;"><span
					class="search_btn">搜索</span>
			</div>
			<div>
				<button class="btn">下载</button>
			</div>
		</div>
		<!-- 中间内容结束 -->
	</div>

	<!-- slide侧边栏 -->
	<div class="side_bar">
		<span class="btn_top"></span>
	</div>

	<!-- footer -->
	<div class="footbox">
		<h2>
			<a href="about_item.html">公司项目</a>丨<a href="contact.html">联系我们</a>
		</h2>
		<div class="txt">
			<p>CopyRight © 上海耘存科技发展有限公司</p>
			<p>联系地址: 上海市静安区平型关路108创意广场品座37号5楼</p>
		</div>
	</div>
	<!-- 底部菜单 -->
	<div class="menubox">
		<ul class="fix">
			<li>
				<a href="index.html">
					<i>
						<img src="images/menu_icon01.png" alt="首页" />
						<img src="images/menu_icon01_1.png" alt="首页" />
					</i>
					<span>首页</span>
				</a>
			</li>
			<li>
				<a href="video.html">
					<i>
						<img src="images/menu_icon02.png" alt="视频中心" />
						<img src="images/menu_icon02_1.png" alt="视频中心" />
					</i>
					<span>视频中心</span>
				</a>
			</li>
			<li>
				<a href="search.html">
					<i>
						<img src="images/icon_search2.png" alt="搜索" />
						<img src="images/icon_search2.png" alt="搜索" />
					</i>
					<span>搜索</span>
				</a>
			</li>
			<li class="menubtn">
				<i>
					<img src="images/menu_icon04.png" alt="菜单" />
					<img src="images/menu_icon04_1.png" alt="菜单" />
				</i>
				<span>菜单</span>
			</li>
		</ul>
		<!-- 菜单导航 -->
		<dl class="menu">
			<dd><a href="login.html">登录</a></dd>
			<dd><a href="register.html">注册</a></dd>
			<dd><a href="video.html">视频中心</a></dd>
			<dd><a href="about.html">关于我们</a></dd>
			<dd><a href="contact.html">联系我们</a></dd>
		</dl>
	</div>

	<script>
		$(function () { // 图片上传
			// var oUploadImg = document.querySelector("#uploadImg") //获取uploaImg节点,
			oFile = document.querySelector("#upLoadImgIpt"); //获取input file节点
			// console.log(oUploadImg);
			console.log(oFile);
			console.log(oFile.files);
			oFile.addEventListener('change', function () {
				//	console.log(oUploadImg);
				//	console.log(oFile);
				console.log(this); //this指针指向input
				console.log(this.files);
				var file = this.files[0];
				console.log(file);
				console.log(file.type);
				console.log(file.type.indexOf("image"));//输出0的时候成立，-1的时候不成立
				if (file.type.indexOf("image") == 0) {
					var reader = new FileReader(); //创建FileReader对象实例reader
					reader.readAsDataURL(file); //将图片url转换为base64码
					reader.onload = function (e) {
						var newUrl = this.result;
						// 获取到了转换base64位格式后的图片
						console.log(11111111111, newUrl);
						// oUploadImg.style.backgroundImage = 'url('+newUrl+')';
						// 发请求, 上传图片到服务器
						$.ajax({
							type: "post",
							url: '',
							data: {},
							dataType: 'json', // 返回值类型 一般设置为json
							success: function (result) {
								console.log(result);
							},
							error: function () {
								console.log("后台处理错误");
							}
						})

					}
				};

			})

		})
	</script>
</body>

</html>